# 文件加密/解密工具

## 简介

这是一个功能强大的文件加密/解密工具，支持多种加密算法（AES-256、Blowfish、XOR），能够安全地加密和解密单个文件或整个目录。工具采用了先进的密码学安全措施，确保数据安全可靠。

## 主要特性

- ✅ 支持AES-256、Blowfish和XOR三种加密算法
- ✅ 目录级加密/解密，支持递归处理子目录
- ✅ 安全的密钥管理（PBKDF2密钥派生 + 随机盐值）
- ✅ 文件完整性验证（MD5校验）
- ✅ 原子性文件操作，确保数据安全
- ✅ 流式处理，支持大文件操作
- ✅ 跨平台支持（Windows、Linux、macOS）
- ✅ 详细的日志记录和错误处理
- ✅ 内置帮助文档，使用 `-h` 或 `--help` 参数查看

## 快速开始

### 编译

```bash
go build -o encrypt encrypt.go help.go
```

### 查看帮助文档

```bash
./encrypt -h
```

或者：

```bash
./encrypt --help
```

### 配置

编辑`encrypt_config.yaml`文件：

```yaml
# 加密/解密密码（请务必修改为强密码）
password: "your_strong_password"

# 加密算法类型
# 可选值：aes, blowfish, xor
encrypt_type: aes

# 目标路径列表（支持多个目录或文件）
target_paths:
  - "/path/to/target/directory"

# 混淆文件名后缀
obfuscate_suffix: ".dat"

# 混淆文件名长度
obfuscate_name_length: 12

# 映射文件名（用于存储加密前后的文件映射关系）
map_filename: ".app_encrypt"

# 锁文件名（用于防止程序重复运行）
lock_filename: ".encrypt.lock"

# 映射文件存储路径（请确保有写权限）
map_storage_path: "/path/to/map/storage"

# 盐值（可选，用于密钥派生，留空则自动生成随机盐值）
salt: ""

# 是否显示详细日志
debug: false
```

### 加密文件/目录

```bash
./encrypt -encrypt
```

### 解密文件/目录

```bash
./encrypt -decrypt
```

## 加密算法详解

### 1. AES-256（推荐）

AES（Advanced Encryption Standard）是美国联邦政府采用的一种区块加密标准，也是目前应用最广泛的对称加密算法之一。

**特点：**
- 安全性：最高（军事级别的加密标准）
- 性能：中等（比XOR慢，但比大多数加密算法快）
- 使用AES-256算法，PBKDF2密钥派生函数
- 自动生成随机盐值和初始化向量(IV)
- 抵抗已知明文攻击和统计分析

**适用场景：**
- 敏感个人数据加密
- 财务信息保护
- 商业机密和重要文件加密

### 2. Blowfish

Blowfish是一种对称密钥分组密码算法，由Bruce Schneier在1993年设计，旨在作为DES算法的替代品。

**特点：**
- 安全性：较高（经过广泛验证的加密算法）
- 性能：较好（在大多数硬件上表现良好）
- 可变长度密钥设计（支持32位到448位密钥）
- 实现简单且稳定
- 安全性良好，适合一般用途

**适用场景：**
- 中等敏感数据加密
- 对性能有一定要求的应用
- 需要平衡安全性和速度的场合

### 3. XOR

XOR（异或）是一种简单的位运算加密方法，通过对明文和密钥进行异或操作来实现加密和解密。

**特点：**
- 安全性：较低（仅适合基本保护）
- 性能：最佳（最快的加密方式）
- 实现简单，计算开销最小
- 速度极快，适合处理大量文件
- 安全性相对较低，不建议用于敏感数据

**适用场景：**
- 大量非敏感数据的快速加密
- 对加密速度要求极高的场合
- 临时数据保护

## 安全性说明

1. **密码强度**：请使用强密码，建议至少16位，包含大小写字母、数字和特殊字符
2. **备份重要数据**：加密前请确保备份原始文件
3. **妥善保管密码**：密码丢失将无法恢复加密文件
4. **权限控制**：限制配置文件的访问权限，避免密码泄露

## 依赖项

- Go 1.18+
- `golang.org/x/crypto/pbkdf2`
- `gopkg.in/yaml.v2`

## 安装依赖

```bash
go get -u golang.org/x/crypto/pbkdf2
go get -u gopkg.in/yaml.v2
```

## 详细文档

- **操作手册**：操作手册.md
- **Bug分析报告**：bug_analysis_report.md

## 注意事项

1. 使用本工具加密文件后，请务必妥善保管配置文件和密码
2. 加密算法的选择会影响加密强度和性能：
   - AES-256：安全性最高，性能适中
   - Blowfish：安全性较高，性能较好
   - XOR：性能最佳，但安全性相对较低
3. 解密时请确保使用与加密时相同的密码和加密算法

## 免责声明

本工具仅供学习和合法用途。使用本工具加密重要数据前，请确保理解可能的风险，并进行充分的测试。作者不对因使用本工具导致的数据丢失或其他损失负责。